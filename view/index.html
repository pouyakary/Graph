<html>
	<head>
		<title>Graph</title>
		<!-- Main Graph Tools -->
		<link rel="stylesheet" href="style.css">
		<script src="core.js"></script>
		<!-- Code Mirorr -->
		<script src="codemirror.js"></script>
		<link rel="stylesheet" href="codemirror.css">
		<script src="javascript.js"></script>
	</head>
	<body>
		<div class="heading">
			<div id="header-left">Graph</div>

			<div class="icon icon-active" id="icon-move" 
				 onmouseover="KaryGraph.UI.Toolbar.OnToolbarIconHover('icon-move')"
				 onmouseout="KaryGraph.UI.Toolbar.ClearStuatus()"
				 onclick="KaryGraph.UI.Toolbar.OnIconClick('icon-move')">
			</div>
			<div class="icon" id="icon-remove" 
				 onmouseover="KaryGraph.UI.Toolbar.OnToolbarIconHover('icon-remove')"
				 onmouseout="KaryGraph.UI.Toolbar.ClearStuatus()" 
				 onclick="KaryGraph.UI.Toolbar.OnIconClick('icon-remove')">
			</div>
			<div class="icon" id="icon-edit" 
				 onmouseover="KaryGraph.UI.Toolbar.OnToolbarIconHover('icon-edit')"
				 onmouseout="KaryGraph.UI.Toolbar.ClearStuatus()"
				 onclick="KaryGraph.UI.Toolbar.OnIconClick('icon-edit')">
			</div>
			<div class="icon" id="icon-select" 
				 onmouseover="KaryGraph.UI.Toolbar.OnToolbarIconHover('icon-select')"
				 onmouseout="KaryGraph.UI.Toolbar.ClearStuatus()"
				 onclick="KaryGraph.UI.Toolbar.OnIconClick('icon-select')">
			</div>

			<div id="status-view"></div>

            <div id="header-right">
                <img src="kary-logo.png" id="kf-logo">
            </div>

            <div style="clear: both;"></div>
		</div>
		
		<!-- Main View Goes Here -->
		<div id="MainView">
			<!--- EDITOR --->
			<svg id="GraphView"></svg>
			<!--- SCRIPT EDITOR --->
			<div id="inspector">
				<!-- Programmer -->
				<div class="inspector-section">
					<div class="inspector-section-title">
						<div class="inspector-section-title-text">Programmer</div>
						<div class="inspector-section-title-icon">
							<img src="playbutton.png" id="run-button" onclick="KaryGraph.UI.Programmer.RunCode( );">
						</div>
						<div style="clear: both;"></div>
					</div>
					<div class="inspector-section-body">
						<textarea id="ScriptEditor"></textarea>
						<div id="console-bottom"></div>
					</div>
				</div>
				<!-- Console -->
				<div class="inspector-section">
					<div class="inspector-section-title">
						<div class="inspector-section-title-text">Console</div>
						<div style="clear: both;"></div>
					</div>
					<div class="inspector-section-body">
						<div id="console"></div>
					</div>
				</div>
			</div>
		</div>
		
		<div style="clear: both;"></div>
			
		<script>
			window.Snap = require('snapsvg');

			KaryGraph.INIT();

			var ScriptEditor = CodeMirror.fromTextArea(document.getElementById("ScriptEditor" ), {
				lineNumbers: true,
				lineWrapping: true,
				tabSize: 3,
				extraKeys: { "Ctrl-Space": "autocomplete" },
				mode: {name: "javascript", globalVars: true}
			});

			function GetProgrammerCode ( ) {
				return ScriptEditor.getValue();
			}
		</script>
	</body>
</html>
